<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ«ì ë§íˆê¸° ê²Œì„ (1~50)</title>
    <style>
        /* CSS ìŠ¤íƒ€ì¼ (ê¸°ì¡´ê³¼ ë™ì¼) */
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, sans-serif;
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); /* ë¶„ìœ„ê¸° ì „í™˜ì„ ìœ„í•´ ë°°ê²½ìƒ‰ì„ ì‚´ì§ ì‹œì›í•˜ê²Œ ë³€ê²½ */
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #333;
        }

        .container {
            background-color: white;
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
            text-align: center;
            width: 90%;
            max-width: 420px;
        }

        h1 { margin-top: 0; color: #4a4a4a; font-size: 1.8rem; margin-bottom: 0.5rem; }
        
        .status-bar {
            background-color: #f0f0f0;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: bold;
            color: #555;
            display: flex;
            justify-content: space-between;
        }

        .chances-left { color: #d9534f; }

        input[type="number"] {
            width: 70%;
            padding: 14px;
            font-size: 1.2rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 1rem;
            outline: none;
            transition: 0.3s;
        }
        input[type="number"]:focus { border-color: #8fd3f4; }

        button {
            background-color: #8fd3f4; /* ë²„íŠ¼ ìƒ‰ìƒ ë³€ê²½ */
            color: #333;
            border: none;
            padding: 14px 28px;
            font-size: 1.1rem;
            border-radius: 10px;
            cursor: pointer;
            width: 100%;
            font-weight: bold;
            transition: 0.3s;
        }
        button:hover { background-color: #84fab0; }
        button:disabled { background-color: #ccc; cursor: not-allowed; }

        .message {
            margin-top: 1.5rem;
            font-weight: bold;
            font-size: 1.1rem;
            min-height: 1.5em;
        }
        .success { color: #28a745; }
        .error { color: #dc3545; }
        .hint { color: #007bff; }

        .history-box {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eee;
            font-size: 0.9rem;
            color: #777;
            text-align: left;
        }
        .history-list {
            margin-top: 5px;
            font-family: monospace;
            font-size: 1.1rem;
            color: #333;
            word-break: break-all;
        }

        .restart-btn {
            background-color: #444;
            margin-top: 1rem;
            display: none; 
            color: white;
        }
        .restart-btn:hover { background-color: #222; color: white; }
    </style>
</head>
<body>

    <div class="container">
        <h1>ìˆ«ì ë§íˆê¸° (Easy)</h1>
        
        <div class="status-bar">
            <span>ë²”ìœ„: 1 ~ 50</span>
            <span class="chances-left" id="chanceDisplay">ë‚¨ì€ ê¸°íšŒ: 5</span>
        </div>

        <input type="number" id="guessField" min="1" max="50" placeholder="1~50 ìˆ«ì ì…ë ¥">
        <button id="submitBtn" onclick="checkGuess()">í™•ì¸</button>
        
        <div class="message" id="message">ìˆ«ìë¥¼ ì…ë ¥í•˜ê³  í™•ì¸ì„ ëˆ„ë¥´ì„¸ìš”.</div>
        
        <div class="history-box">
            <div>ğŸ“œ ì…ë ¥í•œ ìˆ«ì ê¸°ë¡:</div>
            <div class="history-list" id="historyList">-</div>
        </div>

        <button class="restart-btn" id="restartBtn" onclick="resetGame()">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
    </div>

    <script>
        let randomNumber;
        let chances;
        let history = [];
        let isGameOver = false;

        const guessField = document.getElementById('guessField');
        const message = document.getElementById('message');
        const submitBtn = document.getElementById('submitBtn');
        const restartBtn = document.getElementById('restartBtn');
        const chanceDisplay = document.getElementById('chanceDisplay');
        const historyList = document.getElementById('historyList');

        window.onload = function() {
            loadGame();
        };

        guessField.addEventListener("keypress", function(event) {
            if (event.key === "Enter") checkGuess();
        });

        function loadGame() {
            const savedData = localStorage.getItem('numberGameSave_50'); // ì €ì¥ì†Œ í‚¤ ì´ë¦„ ë³€ê²½ (ì¶©ëŒ ë°©ì§€)
            
            if (savedData) {
                const data = JSON.parse(savedData);
                randomNumber = data.randomNumber;
                chances = data.chances;
                history = data.history;
                isGameOver = data.isGameOver;

                updateUI();
                if (isGameOver) endGameUI(chances > 0); 
            } else {
                initNewGameData();
            }
        }

        function initNewGameData() {
            // [ë³€ê²½] 100 -> 50 ìœ¼ë¡œ ë²”ìœ„ ìˆ˜ì •
            randomNumber = Math.floor(Math.random() * 50) + 1;
            chances = 5;
            history = [];
            isGameOver = false;
            saveGame();
            updateUI();
            
            guessField.disabled = false;
            guessField.value = '';
            submitBtn.disabled = false;
            submitBtn.style.display = 'block';
            restartBtn.style.display = 'none';
            message.textContent = '1ë¶€í„° 50 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ë§ì¶°ë³´ì„¸ìš”!';
            message.className = 'message';
            guessField.focus();
        }

        function checkGuess() {
            if (isGameOver) return;

            const userGuess = Number(guessField.value);

            // [ë³€ê²½] ìœ íš¨ì„± ê²€ì‚¬ ë²”ìœ„ 100 -> 50
            if (!userGuess || userGuess < 1 || userGuess > 50) {
                setMessage('1ë¶€í„° 50 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!', 'error');
                return;
            }

            if (history.includes(userGuess)) {
                setMessage('ì´ë¯¸ ì…ë ¥í–ˆë˜ ìˆ«ìì…ë‹ˆë‹¤.', 'error');
                return;
            }

            history.push(userGuess);
            chances--;

            if (userGuess === randomNumber) {
                isGameOver = true;
                saveGame();
                updateUI();
                setMessage(`ğŸ‰ ì •ë‹µì…ë‹ˆë‹¤! ìˆ«ìëŠ” ${randomNumber}ì˜€ìŠµë‹ˆë‹¤.`, 'success');
                endGameUI(true);
            } else if (chances === 0) {
                isGameOver = true;
                saveGame();
                updateUI();
                setMessage(`ğŸ’€ ê²Œì„ ì˜¤ë²„! ì •ë‹µì€ ${randomNumber}ì˜€ìŠµë‹ˆë‹¤.`, 'error');
                endGameUI(false);
            } else {
                let hint = userGuess < randomNumber ? 'ì—… (UP) â–²' : 'ë‹¤ìš´ (DOWN) â–¼';
                setMessage(hint, 'hint');
                saveGame();
                updateUI();
            }
            
            guessField.value = '';
            guessField.focus();
        }

        function updateUI() {
            chanceDisplay.textContent = `ë‚¨ì€ ê¸°íšŒ: ${chances}`;
            if (history.length > 0) {
                historyList.textContent = history.join(', ');
            } else {
                historyList.textContent = '-';
            }
        }

        function endGameUI(isSuccess) {
            guessField.disabled = true;
            submitBtn.style.display = 'none';
            restartBtn.style.display = 'block';
        }

        function resetGame() {
            localStorage.removeItem('numberGameSave_50'); // í‚¤ ì´ë¦„ ë§¤ì¹­
            initNewGameData();
        }

        function setMessage(msg, type) {
            message.textContent = msg;
            message.className = 'message ' + type;
        }

        function saveGame() {
            const gameState = {
                randomNumber: randomNumber,
                chances: chances,
                history: history,
                isGameOver: isGameOver
            };
            // [ë³€ê²½] ì €ì¥ì†Œ í‚¤ ì´ë¦„ì„ 'numberGameSave_50'ìœ¼ë¡œ ë³€ê²½í•˜ì—¬ ê¸°ì¡´ 100ë²„ì „ ë°ì´í„°ì™€ ê¼¬ì´ì§€ ì•Šê²Œ í•¨
            localStorage.setItem('numberGameSave_50', JSON.stringify(gameState));
        }
    </script>
</body>
</html>
